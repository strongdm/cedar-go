{
    "": {
        "commonTypes": {
            "Coordinate": {
                "type": "Record",
                "attributes": {
                    "x": {
                        "type": "EntityOrCommon",
                        "name": "Long"
                    },
                    "y": {
                        "type": "EntityOrCommon",
                        "name": "Long"
                    }
                }
            },
            "Location": {
                "type": "Record",
                "attributes": {
                    "name": {
                        "type": "EntityOrCommon",
                        "name": "String"
                    },
                    "position": {
                        "type": "EntityOrCommon",
                        "name": "Coordinate"
                    }
                }
            }
        },
        "entityTypes": {
            "GlobalStatus": {
                "enum": [
                    "active",
                    "inactive",
                    "pending"
                ]
            },
            "Place": {
                "shape": {
                    "type": "Record",
                    "attributes": {
                        "location": {
                            "type": "EntityOrCommon",
                            "name": "Location"
                        }
                    }
                }
            }
        },
        "actions": {
            "GlobalView": {
                "appliesTo": {
                    "principalTypes": [
                        "OrgA::User",
                        "OrgB::Member"
                    ],
                    "resourceTypes": [
                        "Place"
                    ]
                }
            }
        }
    },
    "OrgA": {
        "commonTypes": {
            "Employee": {
                "type": "Record",
                "attributes": {
                    "name": {
                        "type": "EntityOrCommon",
                        "name": "String"
                    },
                    "office": {
                        "type": "EntityOrCommon",
                        "name": "Office"
                    }
                }
            },
            "Office": {
                "type": "Record",
                "attributes": {
                    "building": {
                        "type": "EntityOrCommon",
                        "name": "String"
                    },
                    "floor": {
                        "type": "EntityOrCommon",
                        "name": "Long"
                    }
                }
            }
        },
        "entityTypes": {
            "Group": {},
            "Role": {
                "enum": [
                    "admin",
                    "member",
                    "guest"
                ]
            },
            "Team": {
                "memberOfTypes": [
                    "Group"
                ]
            },
            "User": {
                "shape": {
                    "type": "Record",
                    "attributes": {
                        "info": {
                            "type": "EntityOrCommon",
                            "name": "Employee"
                        }
                    }
                }
            }
        },
        "actions": {
            "Edit": {
                "appliesTo": {
                    "principalTypes": [
                        "User"
                    ],
                    "resourceTypes": [
                        "Place"
                    ]
                }
            },
            "View": {
                "appliesTo": {
                    "principalTypes": [
                        "User",
                        "Team"
                    ],
                    "resourceTypes": [
                        "Place"
                    ],
                    "context": {
                        "type": "Record",
                        "attributes": {
                            "reason": {
                                "type": "EntityOrCommon",
                                "name": "String"
                            }
                        }
                    }
                }
            }
        }
    },
    "OrgB": {
        "entityTypes": {
            "Member": {}
        },
        "actions": {
            "Access": {
                "appliesTo": {
                    "principalTypes": [
                        "Member",
                        "OrgA::User"
                    ],
                    "resourceTypes": [
                        "Place"
                    ]
                }
            }
        }
    }
}